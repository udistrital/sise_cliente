{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ImplicitAutenticationService } from '../../@core/utils/implicit_autentication.service';\nimport { PhotoService } from '../../@core/services/photo.service';\nimport { InfoPersonalService } from '../../@core/services/infopersonal.service';\nimport { environment } from '../../../environments/environment.dev';\nimport { ModalbasicinfoComponent } from '../../@theme/components/modalbasicinfo/modalbasicinfo.component';\nimport { HomeService } from '../../@core/services/home.service';\nlet HomePage = class HomePage {\n  constructor(homeService, modalCtrl, photoService, infoPersonalService) {\n    this.homeService = homeService;\n    this.modalCtrl = modalCtrl;\n    this.photoService = photoService;\n    this.infoPersonalService = infoPersonalService;\n    this.autenticacion = new ImplicitAutenticationService();\n  }\n\n  openModal() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const modal = yield this.modalCtrl.create({\n        component: ModalbasicinfoComponent,\n        keyboardClose: false,\n        backdropDismiss: false,\n        id: 'modalCreateTercero'\n      });\n      return yield modal.present();\n    });\n  }\n\n  dismiss() {\n    this.modalCtrl.dismiss({\n      'dismissed': true\n    });\n  }\n\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        console.log('HERE');\n        console.log(this.autenticacion.getPayload());\n        const {\n          email,\n          documento\n        } = this.autenticacion.getPayload(); // const body = { \"user\": email };\n        // this.infoPersonalService.getDocumentIdByEmail(environment.API_GET_IDENTIFICATION, body)\n        //   .subscribe(res => (result: any) => {\n        //     console.log('resultado obtencion documento por email', result);\n        //   },\n        //     error => {\n        //       if (error.error.System.Error == 'usuario no registrado') {\n        //         // this.openModal();\n        //       }\n        //     }\n        //   )\n        // OBTENER INFORMACION PERSONAL DEL TERCERO CON EL TERCERO\n\n        this.infoPersonalService.getInformationByDocument(environment.DATOS_IDENTIFICACION_TERCERO_ENDPOINT, documento).subscribe(result => {\n          console.log('resultado obtencion DATA TERCERO', result);\n          this.terceroPersonalData = result[0];\n        }, error => console.error(error)); // console.log(this.terceroPersonalData)\n      } catch (error) {\n        console.log(error);\n      }\n    });\n  }\n\n  logout() {\n    this.autenticacion.logout();\n  }\n\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery();\n  }\n\n};\nHomePage = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n  providers: [HomeService, InfoPersonalService, PhotoService]\n})], HomePage);\nexport { HomePage };","map":null,"metadata":{},"sourceType":"module"}